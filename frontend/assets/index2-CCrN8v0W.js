import{d as z,a2 as Q,r as m,n as Z,p as ee,q as le,s as oe,u as se,a as R,o as te,v as S,g as x,e as c,i,m as d,z as g,j as a,f as l,w as s,B,C as N,F as ae,l as re,y as p,k as w,D as A,E as K,W as ie,K as ne,H as ue,L as de,I as O,T as fe,_ as ge}from"./index-_hVn5I9W.js";import{a as me}from"./authLogin-AlxdDqfg.js";const ce={class:"bigBox"},pe={key:0,class:"box",ref:"box"},ve={key:0,class:"slide-title"},_e={key:1,class:"slide-title"},be={class:"img-box"},xe=["src"],we={class:"register-form"},ye={class:"register-btn-box"},ke={class:"login-form"},Ce=["src"],Ve={class:"login-btn-box"},Ne={key:1,class:"login-form"},Ue={class:"flex flex-items-center m-t-10px"},he=["src"],Fe={class:"login-btn-box"},Pe=z({__name:"index2",setup(Ie){Q(_=>({a84e0be2:F.value,"715bb2b7":P.value}));const{isMobile:E}=Z(),q=ee(),T=le(),D=oe(),L=se(),C=m(),n=m(!1),t=R({loginName:"koi",password:"123456",securityCode:"1234",codeKey:"",captchaPicture:"https://img2.baidu.com/it/u=3634763958,804148936&fm=253&fmt=auto&app=138&f=JPEG?w=942&h=298"}),M=R({loginName:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}],securityCode:[{required:!0,message:"验证码不能为空",trigger:"blur"}]}),y=async()=>{},V=()=>{if(t.loginName!="koi")return ie("用户名必须koi！"),!1;C.value&&C.value.validate(async(_,e)=>{if(t.loginName,t.password,t.securityCode,_){n.value=!0;try{q.setToken(me.data.tokenValue),await ne(),T.setTab([]),D.setKeepAliveName([]),n.value=!1,ue("登录成功🌻"),L.push(de)}catch{let r=1;setInterval(()=>{r--,r===0&&(n.value=!1)},1e3)}}else console.log("登录校验失败",e),O("校验失败，信息填写有误🌻")})},U=m(),f=R({regUserName:"YU-ADMIN🌻",regPwd:"123456",regConfirmPwd:"1234567",regCode:"1"}),$={regUserName:[{required:!0,message:"用户名不能为空",trigger:"blur"}],regPwd:[{required:!0,message:"密码不能为空",trigger:"blur"}],regConfirmPwd:[{required:!0,message:"确认密码不能为空",trigger:"blur"}],regCode:[{required:!0,message:"审核员不能为空",trigger:"blur"}]},j=m([{value:"1",label:"YU-ADMIN🌻"},{value:"2",label:"于金金🍀"},{value:"3",label:"张大仙🌸"},{value:"4",label:"蕾姆🌹"},{value:"5",label:"橙留香🌵"},{value:"6",label:"菠萝吹雪🌵"},{value:"7",label:"陆小果🌵"}]);te(()=>{y(),G()});const G=()=>{console.log("加载管理员信息")},H=()=>{if(f.regPwd!=f.regConfirmPwd)return O("两次密码输入不同，请检查后重新注册！"),!1;n.value=!0;let _=1;setInterval(()=>{if(_--,_===0){if(n.value=!1,!U.value)return;U.value.validate((e,u)=>{e?(console.log("注册submit!",e),fe("注册成功，请前去登录🌻"),L.push("/login")):console.log("error submit!",u)})}},1e3)},v=m(!0),h=m(`${S("images/login/waoku.jpg")}`),k=m(),F=m("#FE3E7C"),P=m("#F9739E"),J=()=>{v.value=!0,h.value=`${S("images/login/waoku.jpg")}`,k.value.style.background="#edd4dc",k.value.style.transform="translateX(0%)",F.value="#FE3E7C",P.value="#F9739E"},W=()=>{v.value=!1,h.value=`${S("images/login/wuwu.jpg")}`,k.value.style.background="#c9e0ed",k.value.style.transform="translateX(100%)",F.value="#409EFF",P.value="#79BBFF"};return(_,e)=>{const u=x("el-input"),r=x("el-form-item"),X=x("el-option"),Y=x("el-select"),I=x("el-form"),b=x("el-button");return i(),c("div",ce,[g(E)?d("",!0):(i(),c("div",pe,[a("div",{class:"slide-box",ref_key:"slideRef",ref:k},[v.value?(i(),c("h1",ve,"欢迎登录-KOI-ADMIN🌻")):d("",!0),v.value?d("",!0):(i(),c("h1",_e,"欢迎注册-KOI-ADMIN🌻")),e[10]||(e[10]=a("p",{class:"slide-title"},"JOIN US",-1)),a("div",be,[a("img",{class:"select-none",src:h.value,alt:"LOGO"},null,8,xe)]),v.value?(i(),c("div",{key:2,class:"slide-button",onClick:W},"还没有账户？点击注册🍀")):d("",!0),v.value?d("",!0):(i(),c("div",{key:3,class:"slide-button",onClick:J},"已存在账户？点击登录🍀"))],512),a("div",we,[e[13]||(e[13]=a("div",{class:"register-title"},[a("h1",null,"用户注册🌻")],-1)),l(I,{ref_key:"registerFormRef",ref:U,model:f,rules:$},{default:s(()=>[l(r,{prop:"regUserName"},{default:s(()=>[l(u,{type:"text",placeholder:"请输入用户名","suffix-icon":g(B),modelValue:f.regUserName,"onUpdate:modelValue":e[0]||(e[0]=o=>f.regUserName=o)},null,8,["suffix-icon","modelValue"])]),_:1}),l(r,{prop:"regPwd"},{default:s(()=>[l(u,{type:"password",placeholder:"请输入密码","show-password":"","suffix-icon":g(N),modelValue:f.regPwd,"onUpdate:modelValue":e[1]||(e[1]=o=>f.regPwd=o)},null,8,["suffix-icon","modelValue"])]),_:1}),l(r,{prop:"regConfirmPwd"},{default:s(()=>[l(u,{type:"password",placeholder:"请输入确认密码","show-password":"","suffix-icon":g(N),modelValue:f.regConfirmPwd,"onUpdate:modelValue":e[2]||(e[2]=o=>f.regConfirmPwd=o)},null,8,["suffix-icon","modelValue"])]),_:1}),l(r,{prop:"regCode"},{default:s(()=>[l(Y,{modelValue:f.regCode,"onUpdate:modelValue":e[3]||(e[3]=o=>f.regCode=o),filterable:"",placeholder:"请选择管理员"},{default:s(()=>[(i(!0),c(ae,null,re(j.value,o=>(i(),p(X,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),a("div",ye,[n.value?d("",!0):(i(),p(b,{key:0,class:"register-btn",onClick:H},{default:s(()=>e[11]||(e[11]=[w("注册🌻")])),_:1,__:[11]})),n.value?(i(),p(b,{key:1,class:"register-disabled-btn",loading:n.value},{default:s(()=>e[12]||(e[12]=[w("注册中")])),_:1,__:[12]},8,["loading"])):d("",!0)])]),a("div",ke,[e[16]||(e[16]=a("div",{class:"login-title"},[a("h1",null,"LOGIN🍀")],-1)),l(I,{ref_key:"loginFormRef",ref:C,model:t,rules:M},{default:s(()=>[l(r,{prop:"userName"},{default:s(()=>[l(u,{type:"text",placeholder:"请输入用户名","suffix-icon":g(B),modelValue:t.loginName,"onUpdate:modelValue":e[4]||(e[4]=o=>t.loginName=o)},null,8,["suffix-icon","modelValue"])]),_:1}),l(r,{prop:"password"},{default:s(()=>[l(u,{type:"password",placeholder:"请输入密码","show-password":"","suffix-icon":g(N),modelValue:t.password,"onUpdate:modelValue":e[5]||(e[5]=o=>t.password=o)},null,8,["suffix-icon","modelValue"])]),_:1}),l(r,{prop:"securityCode"},{default:s(()=>[l(u,{type:"text",placeholder:"请输入验证码","suffix-icon":g(K),modelValue:t.securityCode,"onUpdate:modelValue":e[6]||(e[6]=o=>t.securityCode=o),onKeydown:A(V,["enter"])},null,8,["suffix-icon","modelValue"])]),_:1}),l(r,null,{default:s(()=>[a("img",{class:"w-100px h-30px",src:t.captchaPicture,onClick:y},null,8,Ce),a("div",{class:"text-gray-400 text-12px m-l-10px select-none",onClick:y},"看不清，换一张")]),_:1})]),_:1},8,["model","rules"]),a("div",Ve,[n.value?d("",!0):(i(),p(b,{key:0,class:"login-btn",onClick:V},{default:s(()=>e[14]||(e[14]=[w("登录🌻")])),_:1,__:[14]})),n.value?(i(),p(b,{key:1,class:"login-disabled-btn",loading:n.value},{default:s(()=>e[15]||(e[15]=[w("登录中")])),_:1,__:[15]},8,["loading"])):d("",!0)])])],512)),g(E)?(i(),c("div",Ne,[e[19]||(e[19]=a("div",{class:"login-title"},[a("h1",null,"LOGIN🍀")],-1)),l(I,{ref_key:"loginFormRef",ref:C,model:t,rules:M},{default:s(()=>[l(r,{prop:"userName"},{default:s(()=>[l(u,{type:"text",placeholder:"请输入用户名","suffix-icon":g(B),modelValue:t.loginName,"onUpdate:modelValue":e[7]||(e[7]=o=>t.loginName=o)},null,8,["suffix-icon","modelValue"])]),_:1}),l(r,{prop:"password"},{default:s(()=>[l(u,{type:"password",placeholder:"请输入密码","show-password":"","suffix-icon":g(N),modelValue:t.password,"onUpdate:modelValue":e[8]||(e[8]=o=>t.password=o)},null,8,["suffix-icon","modelValue"])]),_:1}),l(r,{prop:"securityCode"},{default:s(()=>[l(u,{type:"text",placeholder:"请输入验证码","suffix-icon":g(K),modelValue:t.securityCode,"onUpdate:modelValue":e[9]||(e[9]=o=>t.securityCode=o),onKeydown:A(V,["enter"])},null,8,["suffix-icon","modelValue"]),l(r,null,{default:s(()=>[a("div",Ue,[a("img",{class:"w-100px h-30px",src:t.captchaPicture,onClick:y},null,8,he),a("div",{class:"text-gray-400 w-100px text-12px m-l-10px select-none",onClick:y},"看不清，换一张")])]),_:1})]),_:1})]),_:1},8,["model","rules"]),a("div",Fe,[n.value?d("",!0):(i(),p(b,{key:0,class:"login-btn",onClick:V},{default:s(()=>e[17]||(e[17]=[w("登录🌻")])),_:1,__:[17]})),n.value?(i(),p(b,{key:1,class:"login-disabled-btn",loading:n.value},{default:s(()=>e[18]||(e[18]=[w("登录中")])),_:1,__:[18]},8,["loading"])):d("",!0)])])):d("",!0)])}}}),Be=ge(Pe,[["__scopeId","data-v-9edd21da"]]);export{Be as default};
